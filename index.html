<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SOS Mechanics - Mobile Vehicle Services</title>
<meta name="description" content="SOS Mechanics provides mobile vehicle services across Medway, Chatham, Rochester, Strood & Gillingham. Build your service plan, book, and get premium service.">
<meta name="robots" content="index, follow">
<link href="https://fonts.googleapis.com/css2?family=Inter&display=swap" rel="stylesheet">
<style>
:root {
  --brand-teal: #00bfa5;
  --brand-dark: #004d40;
  --brand-light: #e0f7fa;
  --brand-highlight: #ff9800;
}
body {margin:0;font-family:'Inter',sans-serif;background:#f0f4f5;color:#004d40;}
header {background:var(--brand-teal);color:white;display:flex;justify-content:space-between;align-items:center;padding:10px 20px;position:relative;}
header h1 {margin:0;font-size:1.5rem;}
.navbar {position:absolute;top:100%;left:0;width:100%;background:white;display:none;flex-direction:column;box-shadow:0 4px 6px rgba(0,0,0,0.1);}
.navbar a {padding:10px 20px;color:var(--brand-dark);text-decoration:none;border-bottom:1px solid #eee;}
.navbar a:hover {background:var(--brand-light);}
.nav-toggle {cursor:pointer;font-size:1.5rem;}
.hero {text-align:center;padding:60px 20px;background:linear-gradient(135deg, var(--brand-teal), var(--brand-light));color:white;}
.hero button {padding:15px 25px;margin:10px;font-size:1rem;border:none;border-radius:5px;cursor:pointer;background:var(--brand-highlight);color:white;font-weight:bold;transition:0.3s;}
.hero button:hover {transform:scale(1.05);}
.service-section {padding:40px 20px;text-align:center;}
.service-section h2 {margin-bottom:20px;font-size:2rem;}
.service-cards {display:flex;flex-wrap:wrap;justify-content:center;gap:20px;}
.service-card {background:white;padding:20px;border-radius:10px;box-shadow:0 4px 8px rgba(0,0,0,0.1);width:250px;cursor:pointer;transition:0.3s;position:relative;}
.service-card.selected {border:2px solid var(--brand-teal);}
.service-card:hover {transform:translateY(-5px);box-shadow:0 6px 12px rgba(0,0,0,0.2);}
.service-card h3 {margin:0 0 10px 0;}
.service-card p {margin:5px 0;}
#cartButton, #emergencyButton {position:fixed;bottom:20px;padding:15px 20px;border:none;border-radius:5px;color:white;font-weight:bold;cursor:pointer;z-index:999;}
#cartButton {right:20px;background:var(--brand-teal);}
#emergencyButton {left:20px;background:var(--brand-highlight);animation:flash 1.5s infinite;}
@keyframes flash {0%,50%,100%{opacity:1;}25%,75%{opacity:0.5;}}
#cartOverlay {position:fixed;bottom:70px;right:20px;width:300px;background:white;box-shadow:0 4px 12px rgba(0,0,0,0.2);border-radius:10px;padding:20px;display:none;max-height:70vh;overflow-y:auto;}
#cartOverlay ul {list-style:none;padding:0;margin:0;}
#cartOverlay li {display:flex;justify-content:space-between;margin-bottom:10px;}
#cartOverlay button {background:red;color:white;border:none;border-radius:3px;padding:2px 6px;cursor:pointer;}
#contactForm {padding:40px 20px;background:var(--brand-light);}
#contactForm input, #contactForm textarea {width:100%;padding:10px;margin:10px 0;border-radius:5px;border:1px solid #ccc;}
#contactForm button {background:var(--brand-teal);color:white;padding:15px 20px;border:none;border-radius:5px;font-weight:bold;cursor:pointer;}
#serviceTicket {display:none;padding:20px;background:var(--brand-light);border-radius:10px;max-width:400px;margin:20px auto;position:relative;}
#ticketQRCode {margin-top:10px;text-align:center;}
footer {background:var(--brand-dark);color:white;padding:20px;text-align:center;}
footer a {color:var(--brand-teal);text-decoration:none;}
@media(max-width:768px){.service-cards{flex-direction:column;align-items:center;}}
</style>
</head>
<body>

<header>
  <h1>SOS Mechanics</h1>
  <div class="nav-toggle" onclick="toggleNav()">☰</div>
  <nav class="navbar">
    <a href="#hero">Home</a>
    <a href="#services">Services</a>
    <a href="#contactForm">Contact</a>
    <a href="#faq">FAQ</a>
  </nav>
</header>

<section class="hero" id="hero">
  <h2>Mobile Vehicle Services in Medway</h2>
  <p>Build your service plan and book instantly</p>
  <button onclick="scrollToSection('serviceSection')">Build Service Plan</button>
</section>

<section class="service-section" id="serviceSection">
  <h2>Select Base Service</h2>
  <div class="service-cards" id="baseServices">
    <div class="service-card" data-name="Brakes Service" data-price="145" data-time="60" onclick="selectBaseService(this)">
      <h3>Brakes Service</h3>
      <p>£145 - 1hr 0min</p>
    </div>
    <div class="service-card" data-name="Oil & Filter Basic" data-price="75" data-time="60" onclick="selectBaseService(this)">
      <h3>Oil & Filter Basic</h3>
      <p>£75 - 1hr 0min</p>
    </div>
    <div class="service-card" data-name="Oil & Filter Full" data-price="120" data-time="90" onclick="selectBaseService(this)">
      <h3>Oil & Filter Full</h3>
      <p>£120 - 1hr 30min</p>
    </div>
  </div>

  <h2>Featured Add-ons</h2>
  <div class="service-cards" id="addonServices">
    <div class="service-card" data-name="Air Filter Replacement" data-price="30" data-time="15" onclick="addAddon(this)">
      <h3>Air Filter Replacement</h3>
      <p>£30 - 15min</p>
    </div>
    <div class="service-card" data-name="Brake Fluid Change" data-price="40" data-time="20" onclick="addAddon(this)">
      <h3>Brake Fluid Change</h3>
      <p>£40 - 20min</p>
    </div>
    <div class="service-card" data-name="Wheel Alignment" data-price="60" data-time="30" onclick="addAddon(this)">
      <h3>Wheel Alignment</h3>
      <p>£60 - 30min</p>
    </div>
  </div>
</section>

<!-- Cart & Emergency Buttons -->
<button id="emergencyButton">Emergency</button>
<button id="cartButton" onclick="toggleCart()">My Service Plan</button>
<div id="cartOverlay">
  <h3>Your Service Plan</h3>
  <ul id="cartItems"></ul>
  <p>Total: <span id="cartTotal">£0</span></p>
</div>

<!-- Contact Form -->
<section id="contactForm">
  <h2>Provide Your Details</h2>
  <input type="text" id="name" placeholder="Full Name" required>
  <input type="text" id="phone" placeholder="Phone Number" required>
  <input type="text" id="vehicle" placeholder="Vehicle Registration" required>
  <input type="datetime-local" id="datetime" required>
  <textarea id="notes" placeholder="Notes / Location"></textarea>
  <button id="sendWhatsApp">Submit Booking</button>
</section>

<!-- Ticket -->
<div id="serviceTicket">
  <h2 id="ticketName"></h2>
  <div id="ticketPlate"></div>
  <ul id="ticketItems"></ul>
  <p id="ticketTotal"></p>
  <div id="ticketQRCode"></div>
  <button id="downloadTicket">Download</button>
  <button onclick="window.print()">Print</button>
</div>

<!-- Footer -->
<footer>
  <p>&copy; <span id="year"></span> SOS Mechanics | <a href="tel:07405937104">Call +44 7405 937104</a> | Servicing Medway, Chatham, Rochester, Strood & Gillingham</p>
</footer>

<script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.1/build/qrcode.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
<script>
document.getElementById('year').textContent = new Date().getFullYear();

let cart = [];
let selectedBase = null;

function toggleNav(){document.querySelector('.navbar').style.display = document.querySelector('.navbar').style.display==='flex'?'none':'flex';}

function scrollToSection(id){document.getElementById(id).scrollIntoView({behavior:'smooth'});}

function selectBaseService(card){
  if(selectedBase && selectedBase!==card){
    selectedBase.classList.remove('selected');
    cart = cart.filter(item=>item.type!=='base');
  }
  if(card.classList.contains('selected')){
    card.classList.remove('selected');
    selectedBase=null;
    cart=cart.filter(item=>item.type!=='base');
  } else {
    card.classList.add('selected');
    selectedBase=card;
    cart.push({type:'base',name:card.dataset.name,price:parseFloat(card.dataset.price),time:parseInt(card.dataset.time)});
  }
  updateCart();
  showMessage(`${card.dataset.name} added to service plan`);
}

function addAddon(card){
  const exists=cart.find(item=>item.name===card.dataset.name);
  if(!exists){
    cart.push({type:'addon',name:card.dataset.name,price:parseFloat(card.dataset.price),time:parseInt(card.dataset.time)});
    card.classList.add('selected');
    showMessage(`${card.dataset.name} added to service plan`);
  } else {
    cart=cart.filter(item=>item.name!==card.dataset.name);
    card.classList.remove('selected');
    showMessage(`${card.dataset.name} removed from service plan`);
  }
  updateCart();
}

function updateCart(){
  const ul=document.getElementById('cartItems');
  ul.innerHTML='';
  let total=0;
  cart.forEach(item=>{
    const li=document.createElement('li');
    li.textContent=`${item.name} - £${item.price}`;
    ul.appendChild(li);
    total+=item.price;
  });
  document.getElementById('cartTotal').textContent=`£${total}`;
  document.getElementById('cartButton').textContent=cart.length?`My Service Plan - £${total}`:'My Service Plan';
}

function toggleCart(){
  const overlay=document.getElementById('cartOverlay');
  overlay.style.display=overlay.style.display==='block'?'none':'block';
}

function showMessage(msg){
  const message=document.createElement('div');
  message.textContent=msg;
  message.style.position='fixed';
  message.style.bottom='120px';
  message.style.right='20px';
  message.style.background='var(--brand-teal)';
  message.style.color='white';
  message.style.padding='10px 20px';
  message.style.borderRadius='5px';
  message.style.zIndex='1000';
  document.body.appendChild(message);
  setTimeout(()=>document.body.removeChild(message),2000);
}

document.getElementById('sendWhatsApp').addEventListener('click',()=>{
  const name=document.getElementById('name').value.trim();
  const phone=document.getElementById('phone').value.trim();
  const vehicle=document.getElementById('vehicle').value.trim().toUpperCase().replace(/\s+/g,'');
  const datetime=document.getElementById('datetime').value;
  const notes=document.getElementById('notes').value.trim();
  if(!name||!phone||!vehicle||!datetime||cart.length===0){alert('Please complete all fields and select a service plan'); return;}
  const items=cart.map(i=>`${i.name} (£${i.price})`).join(', ');
  const total=cart.reduce((sum,i)=>sum+i.price,0);
  const message=`SOS Mechanics Booking:\nName: ${name}\nPhone: ${phone}\nVehicle: ${vehicle}\nItems: ${items}\nDate/Time: ${datetime}\nTotal: £${total}\nNotes: ${notes}`;
  const url=`https://wa.me/447405937104?text=${encodeURIComponent(message)}`;
  window.open(url,'_blank');
  generateTicket(name,vehicle,cart,total,datetime);
});

function generateTicket(name,vehicle,cart,total,datetime){
  const ticket=document.getElementById('serviceTicket');
  document.getElementById('ticketName').textContent=name;
  document.getElementById('ticketPlate').textContent=vehicle;
  const itemsUl=document.getElementById('ticketItems');
  itemsUl.innerHTML='';
  cart.forEach(i=>{
    const li=document.createElement('li');
    li.textContent=`${i.name} - £${i.price} (${i.time}min)`;
    itemsUl.appendChild(li);
  });
  document.getElementById('ticketTotal').textContent=`Total: £${total} | Date/Time: ${datetime}`;
  ticket.style.display='block';
  // QR code
  const qrData=`SOS Mechanics Booking:\nName: ${name}\nVehicle: ${vehicle}\nItems: ${cart.map(i=>i.name).join(', ')}\nDate/Time: ${datetime}\nTotal: £${total}`;
  QRCode.toCanvas(document.getElementById('ticketQRCode'),qrData,{width:150},function(err){if(err)console.error(err);});
}

document.getElementById('downloadTicket').addEventListener('click',()=>{
  const ticket=document.getElementById('serviceTicket');
  html2canvas(ticket).then(canvas=>{
    const link=document.createElement('a');
    link.download='SOS_Mechanics_Booking.png';
    link.href=canvas.toDataURL();
    link.click();
  });
});
</script>

</body>
</html>